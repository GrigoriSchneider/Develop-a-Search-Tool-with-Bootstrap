{"id":"HdJB","dependencies":[{"name":"C:\\Users\\grigo\\Documents\\OpenClassrooms\\Projects\\project07\\package.json","includedInParent":true,"mtime":1636452810270},{"name":"./recipes.js","loc":{"line":3,"column":28},"parent":"C:\\Users\\grigo\\Documents\\OpenClassrooms\\Projects\\project07\\src\\test.js","resolved":"C:\\Users\\grigo\\Documents\\OpenClassrooms\\Projects\\project07\\src\\recipes.js"},{"name":"./object.js","loc":{"line":4,"column":46},"parent":"C:\\Users\\grigo\\Documents\\OpenClassrooms\\Projects\\project07\\src\\test.js","resolved":"C:\\Users\\grigo\\Documents\\OpenClassrooms\\Projects\\project07\\src\\object.js"}],"generated":{"js":"var $HdJB$exports={};$parcel$require(\"HdJB\",\"./recipes.js\"),$parcel$require(\"HdJB\",\"./object.js\");var $HdJB$var$recipes=$HdJB$import$recipesjson.recipes,$HdJB$var$cards=document.getElementById(\"cards\"),$HdJB$var$dropdownIngredients=document.getElementById(\"dropdown-ingredients\"),$HdJB$var$dropdownDevice=document.getElementById(\"dropdown-device\"),$HdJB$var$dropdownUstensils=document.getElementById(\"dropdown-ustensils\"),$HdJB$var$containerTags=document.getElementById(\"container-tags\"),$HdJB$var$inputSearch=document.getElementById(\"input-search\"),$HdJB$var$inputIngredients=document.getElementById(\"input-ingredients\"),$HdJB$var$inputDevice=document.getElementById(\"input-device\"),$HdJB$var$inputUstensils=document.getElementById(\"input-ustensils\"),$HdJB$var$errorMessage=document.getElementById(\"error-message\");function $HdJB$var$recipesCardsHtml(){var e=\"\";$HdJB$var$recipes.forEach(function(t,n){var r=t.id,d=t.name,i=t.description,a=t.time;e+='<div class=\"card\" id=\"'.concat(r,'\">'),e+='<img src=\"img/'.concat(d,'.jpg\" class=\"card-img-top\" alt=\"').concat(d,'\">'),e+='<div class=\"card-body row overflow-hidden\">',e+='<div class=\"card-row\">',e+='<h5 class=\"card-title\">'.concat(d,\"  </h5>\"),e+='<div class=\"time\">',e+='<h5 class=\"card-title\"><img src=\"/img/vector.svg\"> '.concat(a,\" min</h5>\"),e+=\"</div>\",e+=\"</div>\",e+='<div class=\"col \">',t.ingredients.map(function(t){var n=t.ingredient,r=t.quantity,d=t.unit;e+=void 0===d&&void 0===r?\"<p><b>\".concat(n,\"</b></p>\"):void 0===d?\"<p><b>\".concat(n,\"</b>: \").concat(r,\" </p>\"):\"<p><b>\".concat(n,\"</b>: \").concat(r,\" \").concat(d,\"</p>\")}),e+=\"</div>\",e+='<div class=\"col\">',e+='<p class=\"card-description\">'.concat(i,\"</p>\"),e+=\"</div>\",e+=\"</div>\",e+=\"</div>\"}),$HdJB$var$cards.innerHTML=e}$HdJB$var$recipesCardsHtml();var $HdJB$var$ingredientsArray=[];function $HdJB$var$createIngredientsArray(){$HdJB$var$recipes.forEach(function(e){return e.ingredients.map(function(e){-1===$HdJB$var$ingredientsArray.indexOf(e.ingredient.toLowerCase())&&$HdJB$var$ingredientsArray.push(e.ingredient.toLowerCase())})}),console.log($HdJB$var$ingredientsArray)}$HdJB$var$createIngredientsArray();var $HdJB$export$ingredientsObject=$HdJB$var$ingredientsArray.map(function(e,t){return{ingredient:e,id:t,IDsWithIngredient:[]}});function $HdJB$var$ingredientsObjectIDs(){$HdJB$export$ingredientsObject.forEach(function(e){var t=e.ingredient,n=e.IDsWithIngredient;$HdJB$var$recipes.forEach(function(e){var r=e.id;e.ingredients.map(function(e){e.ingredient.toLowerCase()===t&&n.push(r)})})})}function $HdJB$var$ingredientsDropdown(){var e=\"\";$HdJB$export$ingredientsObject.forEach(function(t){e+='<li id=\"ingredient-li-'.concat(t.id,'\"><a class=\"dropdown-item\" href=\"#\"   >').concat(t.ingredient,\"</a></li>\")}),$HdJB$var$dropdownIngredients.innerHTML=e}$HdJB$var$ingredientsObjectIDs(),$HdJB$exports.ingredientsObject=$HdJB$export$ingredientsObject,$HdJB$var$ingredientsDropdown();var $HdJB$var$filterButtonsArray=[];function $HdJB$var$addFilterButtonsToHtml(){var e=\"\";$HdJB$var$filterButtonsArray.forEach(function(t,n){e+='<button type=\"button\" class=\"btn btn-blue\" id=\"filter-btn-'.concat(n,'\" >').concat(t,'<img src=\"/close.7b0c2eef.svg\" alt=\"\">\\n            </button>')}),$HdJB$var$containerTags.innerHTML=e}function $HdJB$var$showRecipes(){$HdJB$var$recipes.forEach(function(e){e.ingredients.map(function(e){var t=e.ingredient.toLowerCase();-1!==$HdJB$var$filterButtonsArray.indexOf(t)&&($HdJB$var$trackOfRecipesProperties(t),$HdJB$var$showCards())});var t=e.appliance.toLowerCase();-1!==$HdJB$var$filterButtonsArray.indexOf(t)&&($HdJB$var$trackOfRecipesProperties(t),$HdJB$var$showCards()),e.ustensils.map(function(e){var t=e.toLocaleLowerCase();-1!==$HdJB$var$filterButtonsArray.indexOf(t)&&($HdJB$var$trackOfRecipesProperties(t),$HdJB$var$showCards())})})}$HdJB$var$addFilterButtonsToHtml(),$HdJB$export$ingredientsObject.forEach(function(e){var t=\"ingredient-li-\"+[e.id],n=document.getElementById(t);n.firstElementChild;n.addEventListener(\"click\",function(t){t.preventDefault(),-1===$HdJB$var$filterButtonsArray.indexOf(e.ingredient)&&$HdJB$var$filterButtonsArray.push(e.ingredient),$HdJB$var$addFilterButtonsToHtml(),$HdJB$var$showRecipes()})}),document.addEventListener(\"DOMContentLoaded\",function(){});var $HdJB$var$recipesObject=$HdJB$var$recipes.map(function(e){return{RecipesID:e.id,IngredientsIDs:[],Ingredients:[],DevicesIDs:[],UstensilsIDs:[],matchesCount:0}});function $HdJB$var$trackOfRecipesProperties(e){$HdJB$var$recipes.forEach(function(t){var n=t.id,r=n-1;t.ingredients.map(function(t){t.ingredient.toLowerCase()===e&&-1==$HdJB$var$recipesObject[r].Ingredients.indexOf(e)&&($HdJB$var$recipesObject[r].Ingredients.push(e),$HdJB$var$recipesObject[r].matchesCount+=1)}),t.appliance.toLowerCase()===e&&-1===$HdJB$var$recipesObject[r].DevicesIDs.indexOf(n)&&($HdJB$var$recipesObject[r].DevicesIDs.push(n),$HdJB$var$recipesObject[r].matchesCount+=1),t.ustensils.map(function(t){t.toLocaleLowerCase()===e&&-1===$HdJB$var$recipesObject[r].UstensilsIDs.indexOf(n)&&($HdJB$var$recipesObject[r].UstensilsIDs.push(n),$HdJB$var$recipesObject[r].matchesCount+=1)})})}function $HdJB$var$showCards(){var e=[];$HdJB$var$recipesObject.map(function(t){var n=t.RecipesID;$HdJB$var$filterButtonsArray.length==t.matchesCount?(document.getElementById(n).classList.remove(\"hide\"),e.push(n)):document.getElementById(n).classList.add(\"hide\")}),$HdJB$export$liShow(e),e=[]}function $HdJB$export$liShow(e){var t=[];$HdJB$export$ingredientsObject.forEach(function(n){var r=n.id,d=\"ingredient-li-\".concat(r);n.IDsWithIngredient.map(function(n){e.includes(n)?-1===t.indexOf(d)&&t.push(d):document.getElementById(d).classList.add(\"hide\")})}),t.forEach(function(e){return document.getElementById(e).classList.remove(\"hide\")});var n=[];$HdJB$import$deviceObject.forEach(function(t){var r=t.id,d=\"device-li-\".concat(r);t.IDsWithDevice.map(function(t){e.includes(t)?-1===n.indexOf(d)&&n.push(d):document.getElementById(d).classList.add(\"hide\")})}),n.forEach(function(e){return document.getElementById(e).classList.remove(\"hide\")});var r=[];$HdJB$import$ustensilsObject.forEach(function(t){var n=t.id,d=\"ustensil-li-\".concat(n);t.IDsWithUstensil.map(function(t){e.includes(t)?-1===r.indexOf(d)&&r.push(d):document.getElementById(d).classList.add(\"hide\")})}),r.forEach(function(e){return document.getElementById(e).classList.remove(\"hide\")})}function $HdJB$var$ingredientSearch(e){$HdJB$export$ingredientsObject.forEach(function(t){var n=t.id,r=\"ingredient-li-\".concat(n);-1==e.indexOf(n)?document.getElementById(r).classList.add(\"hide\"):document.getElementById(r).classList.remove(\"hide\")})}$HdJB$var$showCards(),$HdJB$exports.liShow=$HdJB$export$liShow,$HdJB$var$containerTags.onclick=function(e){var t=e.target.id,n=e.target.innerText,r=$HdJB$var$filterButtonsArray.indexOf(n);$HdJB$var$filterButtonsArray.splice(r,1),$HdJB$var$recipes.forEach(function(e){e.ingredients.map(function(t){var r=e.id-1;t.ingredient.toLowerCase()==n&&($HdJB$var$recipesObject[r].matchesCount-=1)})}),document.getElementById(t).remove(),$HdJB$var$showCards()},$HdJB$var$inputIngredients.addEventListener(\"keyup\",function(e){var t=[],n=e.target.value.toLowerCase();$HdJB$export$ingredientsObject.filter(function(e){var r=e.ingredient;n.length>=3&&r.includes(n)&&-1==t.indexOf(e.id)&&(t.push(e.id),$HdJB$var$ingredientSearch(t))}),$HdJB$var$dropdownIngredients.className=\"dropdown-menu-end dropdown-menu show\"}),$HdJB$var$inputIngredients.addEventListener(\"blur\",function(){$HdJB$var$dropdownIngredients.className=\"dropdown-menu-end dropdown-menu\"}),$HdJB$var$inputSearch.addEventListener(\"keyup\",function(e){e.preventDefault();var t=$HdJB$var$inputSearch.value.toLowerCase();console.log(t);var n=[];$HdJB$var$recipes.forEach(function(e){var r=e.name.toLocaleLowerCase(),d=e.id,i=e.description.toLowerCase();t.length>=3&&(r.includes(t)?(document.getElementById(d).classList.remove(\"hide\"),n.push(d)):i.includes(t)?(document.getElementById(d).classList.remove(\"hide\"),n.push(d)):document.getElementById(d).classList.add(\"hide\")),0==n.length?$HdJB$var$errorMessage.firstElementChild.classList.remove(\"hide\"):$HdJB$var$errorMessage.firstElementChild.classList.add(\"hide\")}),console.log(n),$HdJB$export$liShow(n)}),$HdJB$var$inputSearch.addEventListener(\"blur\",function(){}),$HdJB$import$deviceObject.forEach(function(e){var t=\"device-li-\"+[e.id],n=document.getElementById(t),r=e.device;n.addEventListener(\"click\",function(e){e.preventDefault(),-1===$HdJB$var$filterButtonsArray.indexOf(r)&&($HdJB$var$filterButtonsArray.push(r),$HdJB$var$addFilterButtonsToHtml(),$HdJB$var$showRecipes())})}),$HdJB$var$inputDevice.addEventListener(\"keyup\",function(e){e.preventDefault();var t=$HdJB$var$inputDevice.value.toLowerCase(),n=[];$HdJB$var$recipes.forEach(function(e){var r=e.appliance.toLowerCase(),d=e.id;t.length>=3?r.includes(t)&&(document.getElementById(d).classList.remove(\"hide\"),n.push(d)):document.getElementById(d).classList.add(\"hide\")}),$HdJB$export$liShow(n),$HdJB$var$dropdownDevice.className=\"dropdown-menu-end dropdown-menu show\"}),$HdJB$var$inputDevice.addEventListener(\"blur\",function(){$HdJB$var$dropdownDevice.className=\"dropdown-menu-end dropdown-menu\"}),$HdJB$import$ustensilsObject.forEach(function(e){var t=\"ustensil-li-\"+[e.id],n=document.getElementById(t),r=e.ustensil;n.addEventListener(\"click\",function(e){e.preventDefault(),-1===$HdJB$var$filterButtonsArray.indexOf(r)&&($HdJB$var$filterButtonsArray.push(r),$HdJB$var$addFilterButtonsToHtml(),$HdJB$var$showRecipes())})}),$HdJB$var$inputUstensils.addEventListener(\"keyup\",function(e){e.preventDefault();var t=$HdJB$var$inputUstensils.value.toLowerCase(),n=[];$HdJB$var$recipes.forEach(function(e){var r=e.ustensils,d=e.id;r.forEach(function(e){var r=e.toLowerCase();t.length>=3?r.includes(t)&&(document.getElementById(d).classList.remove(\"hide\"),n.push(d)):document.getElementById(d).classList.add(\"hide\")})}),$HdJB$export$liShow(n),$HdJB$var$dropdownUstensils.className=\"dropdown-menu-end dropdown-menu show\"}),$HdJB$var$inputUstensils.addEventListener(\"blur\",function(){$HdJB$var$dropdownUstensils.className=\"dropdown-menu-end dropdown-menu\"});"},"sourceMaps":null,"error":null,"hash":"064fd9ac239ce2dea1af86e73bcc589f","cacheData":{"env":{},"imports":{"$HdJB$import$recipesjson":["./recipes.js","recipesjson"],"$HdJB$import$deviceObject":["./object.js","deviceObject"],"$HdJB$import$ustensilsObject":["./object.js","ustensilsObject"]},"exports":{"ingredientsObject":"$HdJB$export$ingredientsObject","liShow":"$HdJB$export$liShow"},"wildcards":[],"sideEffects":true,"isES6Module":true,"shouldWrap":false}}